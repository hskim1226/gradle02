<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.apexsoft.ysprj.applicants.evaluation.sqlmap.EvaluationDocumentMapper" >
    <resultMap id="commonMand" type="com.apexsoft.ysprj.applicants.evaluation.domain.CommonMandatory" >
        <result column="GRP_CODE" jdbcType="VARCHAR" property="grpCode" />
        <result column="GRP_NAME" jdbcType="VARCHAR" property="grpName" />
        <result column="ITEM_GRP_CODE" jdbcType="VARCHAR" property="itemGrpCode" />
        <result column="ITEM_CODE" jdbcType="VARCHAR" property="itemCode" />
        <result column="ITEM_NAME" jdbcType="VARCHAR" property="itemName" />
        <result column="CHN_YN" jdbcType="VARCHAR" property="chnYn" />
        <result column="LAST_YN" jdbcType="VARCHAR" property="lastYn" />
        <result column="MDT_YN" jdbcType="VARCHAR" property="mdtYn" />
        <result column="UPLOAD_YN" jdbcType="VARCHAR" property="uploadYn" />
        <result column="SEND_CNT" jdbcType="INTEGER" property="sendCnt" />
        <result column="ORGN_SEND_YN" jdbcType="VARCHAR" property="orgnSendYn" />
        <result column="TMPLT_YN" jdbcType="VARCHAR" property="tmpltYn" />
        <result column="MSG_NO" jdbcType="VARCHAR" property="msgNo" />
    </resultMap>

    <sql id="Base_CommonMand_Column_List" >
        A.GRP_CODE,
        B.CODE_VAL GRP_NAME,
        A.ITEM_GRP_CODE,
        A.ITEM_CODE,
        C.CODE_VAL ITEM_NAME,
        A.CHN_YN,
        A.LAST_YN,
        A.MDT_YN,
        A.UPLOAD_YN,
        A.SEND_CNT,
        A.ORGN_SEND_YN,
        A.TMPLT_YN,
        A.CHK_CND,
        A.MSG_NO,
        A.CRE_ID,
        A.CRE_DATE,
        A.MOD_ID,
        A.MOD_DATE
    </sql>

    <select id="selectDeptMandatoryList"
            resultMap="commonMand"
            parameterType="com.apexsoft.ysprj.applicants.evaluation.domain.CommonMandatory"  >
        SELECT
        <include refid="Base_CommonMand_Column_List" />
        FROM MDT_ADMS_DEPT A,COMM_CODE B, COMM_CODE C
        WHERE  A.GRP_CODE = B.CODE
            AND B.CODE_GRP ='DOC_TYPE'
            AND A.ITEM_GRP_CODE = C.CODE_GRP
            AND A.ITEM_CODE = C.CODE
            AND ADMS_NO = #{admsNo} -- 전형번호
            AND DEPT_CODE= #{deptCode}-- 학과번호
    </select>
</mapper>