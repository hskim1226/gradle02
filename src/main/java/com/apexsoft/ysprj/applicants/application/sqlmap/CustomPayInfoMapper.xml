<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.apexsoft.ysprj.applicants.application.sqlmap.CustomPayInfoMapper" >

    <select id="selectPayInfoByApplNo"
            resultType="com.apexsoft.ysprj.applicants.application.domain.CustomPayInfo"
            parameterType="int" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Aug 25 20:54:40 KST 2014.
        -->
        SELECT A.APPL_NO, B.ADMS_FEE, C.PAY_SEQ
        FROM APPL A LEFT OUTER JOIN APPL_PAY C ON A.APPL_NO = C.APPL_NO AND C.PAY_STS_CODE = '00001',
            ADMS_CORS B
        WHERE A.ADMS_NO = B.ADMS_NO
        AND A.DEPT_CODE = B.DEPT_CODE
        AND IFNULL(A.ARI_INST_CODE,'') = IFNULL(B.ARI_INST_CODE,'')
        AND A.CORS_TYPE_CODE = B.CORS_TYPE_CODE
        AND A.APPL_NO = #{applNo,jdbcType=INTEGER};
    </select>

    <select id="selectApplByApplForInsertOthers" resultMap="BaseResultMap" parameterType="com.apexsoft.ysprj.applicants.application.domain.Application" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Aug 25 20:54:40 KST 2014.
        -->
        select
        <include refid="Base_Column_List" />
        from APPL
        where USER_ID = #{userId}
        and ADMS_NO = #{admsNo}
        and ENTR_YEAR = #{entrYear}
        and ADMS_TYPE_CODE = #{admsTypeCode}
        and APPL_ATTR_CODE = #{applAttrCode}
        and DEPT_CODE = #{deptCode}
        and ARI_INST_CODE = #{ariInstCode}
        and CORS_TYPE_CODE = #{corsTypeCode}
        and DETL_MAJ_CODE = #{detlMajCode}
        <!--and INP_DETL_MAJ = #{inpDetlMaj}-->
        <!--and PART_TIME_YN = #{partTimeYn}-->
        <!--and KOR_NAME = #{korName}-->
        <!--and CHN_NAME = #{chnName}-->
        <!--and ENG_SUR = #{engSur}-->
        <!--and ENG_NAME = #{engName}-->
        <!--and RGST_NO = #{rgstNo}-->
        <!--and ZIP_CODE = #{zipCode}-->
        <!--and ADDR = #{addr}-->
        <!--and DETL_ADDR = #{detlAddr}-->
        <!--and TEL_NUM = #{telNum}-->
        <!--and MOBI_NUM = #{mobiNum}-->
        <!--and FAX_NUM = #{faxNum}-->
        <!--and MAIL_ADDR = #{mailAddr}-->
        <!--and APPL_ID = #{applId}-->
        <!--and APPL_STS_CODE = #{applStsCode}-->
        <!--and PRIV_INFO_YN = #{privInfoYn}-->
        <!--and CRE_ID = #{creId}-->
        <!--and CRE_DATE = #{creDate}-->
        <!--and MOD_ID = #{modId}-->
        <!--and MOD_DATE = #{modDate}-->
    </select>

    <select id="selectApplByUserId"
            resultType="com.apexsoft.ysprj.applicants.application.domain.CustomMyList"
            parameterType="com.apexsoft.ysprj.applicants.application.domain.ParamForApplication" >
        select  a.APPL_NO, a.ADMS_NO, a.ENTR_YEAR, a.ADMS_TYPE_CODE,
                a.USER_ID, a.KOR_NAME,
                a.ADMS_TYPE_CODE, H.CODE_VAL ADMS_TYPE_NAME,
                F.CAMP_NAME, b.DEPT_NAME,
                a.CORS_TYPE_CODE, G.CODE_VAL CORS_TYPE_NAME,
                a.DETL_MAJ_CODE, C.DETL_MAJ_NAME,
                a.APPL_STS_CODE, I.CODE_VAL APPL_STS_NAME
        from  APPL a, DEPT b, DETL_MAJ C, COLL e, CAMP F, COMM_CODE G, COMM_CODE H, COMM_CODE I
        where 1=1
        AND a.DEPT_CODE = b.DEPT_CODE
        AND b.COLL_CODE= e.COLL_CODE
        AND e.CAMP_CODE = F.CAMP_CODE
        AND a.DETL_MAJ_CODE = C.DETL_MAJ_CODE
        AND a.CORS_TYPE_CODE = G.CODE
        AND a.ADMS_TYPE_CODE= H.CODE
        AND a.APPL_STS_CODE= I.CODE
        AND G.CODE_GRP='CORS_TYPE'
        AND H.CODE_GRP='ADMS_TYPE'
        AND I.CODE_GRP='APPL_STS'
        AND a.USER_ID =#{userId}
    </select>
</mapper>