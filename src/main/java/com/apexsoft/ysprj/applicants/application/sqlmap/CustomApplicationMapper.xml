<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.apexsoft.ysprj.applicants.application.sqlmap.CustomApplicationMapper" >
    <resultMap id="BaseResultMap" type="com.apexsoft.ysprj.applicants.application.domain.Application" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Aug 25 20:54:40 KST 2014.
        -->
        <id column="APPL_NO" property="applNo" jdbcType="INTEGER" />
        <result column="USER_ID" property="userId" jdbcType="VARCHAR" />
        <result column="ADMS_NO" property="admsNo" jdbcType="VARCHAR" />
        <result column="DEPT_CODE" property="deptCode" jdbcType="VARCHAR" />
        <result column="ARI_INST_CODE" property="ariInstCode" jdbcType="VARCHAR" />
        <result column="CORS_TYPE_CODE" property="corsTypeCode" jdbcType="VARCHAR" />
        <result column="DETL_MAJ_CODE" property="detlMajCode" jdbcType="VARCHAR" />
        <result column="INP_DETL_MAJ" property="inpDetlMaj" jdbcType="VARCHAR" />
        <result column="PART_TIME_YN" property="partTimeYn" jdbcType="VARCHAR" />
        <result column="KOR_NAME" property="korName" jdbcType="VARCHAR" />
        <result column="CHN_NAME" property="chnName" jdbcType="VARCHAR" />
        <result column="ENG_SUR" property="engSur" jdbcType="VARCHAR" />
        <result column="ENG_NAME" property="engName" jdbcType="VARCHAR" />
        <result column="RGST_NO" property="rgstNo" jdbcType="VARCHAR" />
        <result column="ZIP_CODE" property="zipCode" jdbcType="VARCHAR" />
        <result column="ADDR" property="addr" jdbcType="VARCHAR" />
        <result column="DETL_ADDR" property="detlAddr" jdbcType="VARCHAR" />
        <result column="TEL_NUM" property="telNum" jdbcType="VARCHAR" />
        <result column="MOBI_NUM" property="mobiNum" jdbcType="VARCHAR" />
        <result column="FAX_NUM" property="faxNum" jdbcType="VARCHAR" />
        <result column="MAIL_ADDR" property="mailAddr" jdbcType="VARCHAR" />
        <result column="APPL_ID" property="applId" jdbcType="VARCHAR" />
        <result column="APPL_STS_CODE" property="applStsCode" jdbcType="VARCHAR" />
        <result column="PRIV_INFO_YN" property="privInfoYn" jdbcType="VARCHAR" />
        <result column="CRE_ID" property="creId" jdbcType="VARCHAR" />
        <result column="CRE_DATE" property="creDate" jdbcType="DATE" />
        <result column="MOD_ID" property="modId" jdbcType="VARCHAR" />
        <result column="MOD_DATE" property="modDate" jdbcType="DATE" />
    </resultMap>

    <sql id="Base_Column_List" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Aug 25 20:54:40 KST 2014.
        -->
        APPL_NO, USER_ID, ADMS_NO, DEPT_CODE, ARI_INST_CODE, CORS_TYPE_CODE, DETL_MAJ_CODE,
        INP_DETL_MAJ, PART_TIME_YN, KOR_NAME, CHN_NAME, ENG_SUR, ENG_NAME, RGST_NO, ZIP_CODE,
        ADDR, DETL_ADDR, TEL_NUM, MOBI_NUM, FAX_NUM, MAIL_ADDR, APPL_ID, APPL_STS_CODE, PRIV_INFO_YN,
        CRE_ID, CRE_DATE, MOD_ID, MOD_DATE
    </sql>

    <select id="selectApplForInsertOthers" resultMap="BaseResultMap" parameterType="com.apexsoft.ysprj.applicants.application.domain.ParamForInitialApply" >
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
          This element was generated on Mon Aug 25 20:54:40 KST 2014.
        -->
        select
        <include refid="Base_Column_List" />
        from APPL
        where USER_ID = #{userId,jdbcType=VARCHAR}
          and ADMS_NO = #{admsNo,jdbcType=VARCHAR}
          and APPL_STS_CODE = #{applStsCode,jdbcType=VARCHAR}
    </select>

    <select id="selectApplByUserId"
            resultType="com.apexsoft.ysprj.applicants.application.domain.CustomMyList"
            parameterType="com.apexsoft.ysprj.applicants.application.domain.ParamForApplication" >
        select  a.USER_ID, a.KOR_NAME,
                a.ADMS_TYPE_CODE, H.CODE_VAL ADMS_TYPE_NAME,
                F.CAMP_NAME, b.DEPT_NAME,
                a.CORS_TYPE_CODE, G.CODE_VAL CORS_TYPE_NAME,
                a.DETL_MAJ_CODE, C.DETL_MAJ_NAME,
                a.APPL_STS_CODE, I.CODE_VAL APPL_STS_NAME
        from  APPL a, DEPT b, DETL_MAJ C, COLL e, CAMP F, COMM_CODE G, COMM_CODE H, COMM_CODE I
        where 1=1
        AND a.DEPT_CODE = b.DEPT_CODE
        AND b.COLL_CODE= e.COLL_CODE
        AND e.CAMP_CODE = F.CAMP_CODE
        AND a.DETL_MAJ_CODE = C.DETL_MAJ_CODE
        AND a.CORS_TYPE_CODE = G.CODE
        AND a.ADMS_TYPE_CODE= H.CODE
        AND a.APPL_STS_CODE= I.CODE
        AND G.CODE_GRP='CORS_TYPE'
        AND H.CODE_GRP='ADMS_TYPE'
        AND I.CODE_GRP='APPL_STS'
        AND a.USER_ID =#{userId}
    </select>
</mapper>